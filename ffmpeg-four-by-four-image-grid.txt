ffmpeg -i 1.jpg -i 2.jpg -i 3.jpg -i 4.jpg -i 5.jpg -i 6.jpg -i 7.jpg -i 8.jpg -i 9.jpg -i 10.jpg -i 11.jpg -i 12.jpg -i 13.jpg -i 14.jpg -i 15.jpg -i 16.jpg -filter_complex "[0:v][1:v][2:v] [3:v][4:v][5:v] [6:v][7:v][8:v] [9:v][10:v][11:v] [12:v][13:v][14:v] [15:v]xstack=inputs=16:layout=0_0|w0_0|w0+w1_0|w0+w1+w2_0|0_h0|w0_h0|w0+w1_h0|w0+w1+w2_h0|0_h0+h1|w0_h0+h1|w0+w1_h0+h1|w0+w1+w2_h0+h1|0_h0+h1+h2|w0_h0+h1+h2|w0+w1_h0+h1+h2|w0+w1+w2_h0+h1+h2[v]" -map "[v]" output.jpg 
